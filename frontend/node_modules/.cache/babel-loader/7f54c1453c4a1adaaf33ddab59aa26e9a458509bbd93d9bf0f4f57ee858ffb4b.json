{"ast":null,"code":"import{useState}from'react';import{Link}from'react-router-dom';import{RegisterUser}from'../api/CallingApi';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function RegisterComp(){const[formData,setFormData]=useState({username:'',email:'',password:'',confirmPassword:''});const[errorMessage,setErrorMessage]=useState('');const[isSubmitting,setIsSubmitting]=useState(false);const[data,setData]=useState('');// const navigate = useNavigate();\nconst handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));// Clear error when user types\nif(errorMessage)setErrorMessage('');};const validateForm=()=>{if(!formData.username.trim()){setErrorMessage('Username is required');return false;}if(formData.username.length<3){setErrorMessage('Username must be at least 3 characters');return false;}if(!formData.email){setErrorMessage('Password is required');return false;}if(!formData.password){setErrorMessage('Password is required');return false;}if(formData.password.length<6){setErrorMessage('Password must be at least 6 characters');return false;}if(formData.password!==formData.confirmPassword){setErrorMessage('Passwords do not match');return false;}return true;};const handleRegister=async e=>{e.preventDefault();if(!validateForm())return;setIsSubmitting(true);try{const response=await RegisterUser({username:formData.username,email:formData.email,password:formData.password});setData(response.data);console.log(response);// Redirect to login with success state\n// navigate('/login', { \n//     state: { \n//         registrationSuccess: true,\n//         username: formData.username \n//     } \n// });\n}catch(error){var _error$response,_error$response$data;console.error('Registration error:',error);const errorMsg=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message||'Registration failed. Please try again.';setErrorMessage(errorMsg);}finally{setIsSubmitting(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Registration Page\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"successMessage\",children:\"Your Id Credentials\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"successMessage\",children:[\"Your Id \",data.id]}),/*#__PURE__*/_jsxs(\"div\",{className:\"successMessage\",children:[\"Your Name \",data.username]}),/*#__PURE__*/_jsxs(\"div\",{className:\"successMessage\",children:[\"Your Email \",data.email]}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:errorMessage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"form-label\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"username\",name:\"username\",value:formData.username,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"email\",name:\"email\",value:formData.email,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",className:\"form-label\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"confirmPassword\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary w-100\",disabled:isSubmitting,children:isSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm\",role:\"status\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})]}):'Register'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-center\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login here\"})]})]});}","map":{"version":3,"names":["useState","Link","RegisterUser","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RegisterComp","formData","setFormData","username","email","password","confirmPassword","errorMessage","setErrorMessage","isSubmitting","setIsSubmitting","data","setData","handleChange","e","name","value","target","prev","validateForm","trim","length","handleRegister","preventDefault","response","console","log","error","_error$response","_error$response$data","errorMsg","message","className","children","id","role","onSubmit","htmlFor","type","onChange","required","disabled","to"],"sources":["C:/SPRING-BOOT/FlightFrontend/booked-frontend/src/components/RegisterComp.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport {  Link } from 'react-router-dom';\r\nimport {  RegisterUser } from '../api/CallingApi';\r\n\r\nexport default function RegisterComp() {\r\n    const [formData, setFormData] = useState({\r\n        username:'',\r\n        email: '',\r\n        password: '',\r\n        confirmPassword: ''\r\n    });\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [data, setData]=useState('');\r\n    // const navigate = useNavigate();\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            [name]: value\r\n        }));\r\n        // Clear error when user types\r\n        if (errorMessage) setErrorMessage('');\r\n    };\r\n\r\n    const validateForm = () => {\r\n        if (!formData.username.trim()) {\r\n            setErrorMessage('Username is required');\r\n            return false;\r\n        }\r\n        if (formData.username.length < 3) {\r\n            setErrorMessage('Username must be at least 3 characters');\r\n            return false;\r\n        }\r\n        if (!formData.email) {\r\n            setErrorMessage('Password is required');\r\n            return false;\r\n        }\r\n        if (!formData.password) {\r\n            setErrorMessage('Password is required');\r\n            return false;\r\n        }\r\n        if (formData.password.length < 6) {\r\n            setErrorMessage('Password must be at least 6 characters');\r\n            return false;\r\n        }\r\n        if (formData.password !== formData.confirmPassword) {\r\n            setErrorMessage('Passwords do not match');\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    const handleRegister = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        if (!validateForm()) return;\r\n        \r\n        setIsSubmitting(true);\r\n        \r\n        try {\r\n            const response = await RegisterUser({\r\n                username: formData.username,\r\n                email:formData.email,\r\n                password: formData.password\r\n            });\r\n            setData(response.data);\r\n            console.log(response);\r\n            // Redirect to login with success state\r\n            // navigate('/login', { \r\n            //     state: { \r\n            //         registrationSuccess: true,\r\n            //         username: formData.username \r\n            //     } \r\n            // });\r\n        } catch (error) {\r\n            console.error('Registration error:', error);\r\n            const errorMsg = error.response?.data?.message || \r\n                           error.message || \r\n                           'Registration failed. Please try again.';\r\n            setErrorMessage(errorMsg);\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <h1>Registration Page</h1>\r\n            <hr />\r\n            \r\n             {<div className='successMessage' >Your Id Credentials</div> }\r\n             {<div className='successMessage' >Your Id {data.id}</div> }\r\n             {<div className='successMessage' >Your Name {data.username}</div> }\r\n             {<div className='successMessage' >Your Email {data.email}</div> }\r\n\r\n            {errorMessage && (\r\n                <div className=\"alert alert-danger\" role=\"alert\">\r\n                    {errorMessage}\r\n                </div>\r\n            )}\r\n            \r\n            <form onSubmit={handleRegister}>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"username\" className=\"form-label\">Username</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        className=\"form-control\"\r\n                        id=\"username\"\r\n                        name=\"username\" \r\n                        value={formData.username} \r\n                        onChange={handleChange}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"email\" className=\"form-label\">Email</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        className=\"form-control\"\r\n                        id=\"email\"\r\n                        name=\"email\" \r\n                        value={formData.email} \r\n                        onChange={handleChange}\r\n                        required\r\n                    />\r\n                </div>\r\n                \r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"password\" className=\"form-label\">Password</label>\r\n                    <input \r\n                        type=\"password\" \r\n                        className=\"form-control\"\r\n                        id=\"password\"\r\n                        name=\"password\" \r\n                        value={formData.password} \r\n                        onChange={handleChange}\r\n                        required\r\n                    />\r\n                </div>\r\n                \r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"confirmPassword\" className=\"form-label\">Confirm Password</label>\r\n                    <input \r\n                        type=\"password\" \r\n                        className=\"form-control\"\r\n                        id=\"confirmPassword\"\r\n                        name=\"confirmPassword\" \r\n                        value={formData.confirmPassword} \r\n                        onChange={handleChange}\r\n                        required\r\n                    />\r\n                </div>\r\n                \r\n                <button \r\n                    type=\"submit\" \r\n                    className=\"btn btn-primary w-100\"\r\n                    disabled={isSubmitting}\r\n                >\r\n                    {isSubmitting ? (\r\n                        <>\r\n                            <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n                            <span className=\"visually-hidden\">Loading...</span>\r\n                        </>\r\n                    ) : (\r\n                        'Register'\r\n                    )}\r\n                </button>\r\n            </form>\r\n            \r\n            <div className=\"mt-3 text-center\">\r\n                Already have an account? <Link to=\"/login\">Login here</Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}