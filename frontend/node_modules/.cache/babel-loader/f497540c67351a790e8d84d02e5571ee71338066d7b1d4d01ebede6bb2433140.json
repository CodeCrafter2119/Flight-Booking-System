{"ast":null,"code":"import{useState,useEffect}from\"react\";import{ErrorMessage,Field,Formik}from\"formik\";import{useParams,useNavigate}from\"react-router-dom\";import{BookedFlightAPI,retrieveAFlightById,retrieveAllFlights}from\"../api/CallingApi\";import\"./BookedFlight.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function BookedFlight(){const navigate=useNavigate();const{id}=useParams();const[loading,setLoading]=useState({main:true,form:false});const[error,setError]=useState(null);const[flights,setFlights]=useState([]);const[showBookingForm,setShowBookingForm]=useState(false);const[selectedFlight,setSelectedFlight]=useState(null);const[initialValues,setInitialValues]=useState({flightId:\"\",departureFrom:\"\",arrivalTo:\"\",departureDate:\"\",departureTime:\"\",returnDate:\"\",seatsAvailable:\"\",passenger:\"1\",passengerName:\"\",passengerName2:\"\",passengerAdult:\"\",passengerAdult2:\"\",dateOfBirth:\"\",dateOfBirth2:\"\",contactNo:\"\"});// Fetch all flights on component mount\nuseEffect(()=>{fetchFlights();},[]);const fetchFlights=async()=>{try{setLoading(prev=>({...prev,main:true}));setError(null);const response=await retrieveAllFlights();setFlights(response.data||[]);}catch(error){var _error$response,_error$response$data;console.error(\"Failed to fetch flights:\",error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message||\"Failed to load flights. Please try again.\");}finally{setLoading(prev=>({...prev,main:false}));}};const handleFlightSelect=flight=>{setSelectedFlight(flight);setInitialValues({...initialValues,flightId:flight.id,departureFrom:flight.departureFrom,arrivalTo:flight.arrivalTo,departureDate:flight.departureDate,departureTime:flight.departureTime,returnDate:flight.returnDate,seatsAvailable:flight.seatsAvailable});setShowBookingForm(true);};async function onSubmit(values,_ref){let{setSubmitting}=_ref;try{var _bookingResponse$data;setError(null);// Clear previous errors\nconst ticket={flightId:values.flightId,passenger:values.passenger,passengerName:values.passengerName,passengerName2:values.passengerName2,passengerAdult:values.passengerAdult,passengerAdult2:values.passengerAdult2,dateOfBirth:values.dateOfBirth,dateOfBirth2:values.dateOfBirth2,contactNo:values.contactNo};// First create the booking\nconst bookingResponse=await BookedFlightAPI(ticket);if(!(bookingResponse!==null&&bookingResponse!==void 0&&(_bookingResponse$data=bookingResponse.data)!==null&&_bookingResponse$data!==void 0&&_bookingResponse$data.id)){throw new Error(\"Invalid booking response - missing booking ID\");}// Generate a booking reference if not provided by backend\nconst bookingReference=bookingResponse.data.bookingReference||`REF-${Math.random().toString(36).substr(2,9).toUpperCase()}`;// Navigate to seat selection page with all required data\nnavigate(`/flight/${values.flightId}/seats`,{state:{bookingDetails:{id:bookingResponse.data.id,flightId:values.flightId,flightNumber:(selectedFlight===null||selectedFlight===void 0?void 0:selectedFlight.flightNumber)||`FL${values.flightId}`,departureFrom:values.departureFrom,arrivalTo:values.arrivalTo,departureDate:values.departureDate,departureTime:values.departureTime,totalAmount:(selectedFlight===null||selectedFlight===void 0?void 0:selectedFlight.price)||0,bookingReference:bookingReference,// Include any other necessary fields from the booking response\n...bookingResponse.data},passengerCount:parseInt(values.passenger)||1}});}catch(error){var _error$response2,_error$response2$data;console.error(\"Booking failed:\",error);setError(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||error.message||\"Booking failed. Please check your information and try again.\");}finally{setSubmitting(false);}}function validate(values){let errors={};if(!values.passengerName){errors.passengerName=\"Passenger name is required\";}if(!values.flightId){errors.flightId=\"Please select a flight\";}if(!values.contactNo){errors.contactNo=\"Contact number is required\";}if(!values.passenger||values.passenger<1){errors.passenger=\"At least one passenger is required\";}if(!values.dateOfBirth){errors.dateOfBirth=\"Date of birth is required\";}if(!values.passengerAdult){errors.passengerAdult=\"Gender is required\";}return errors;}if(loading.main){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading available flights...\"})]});}if(error&&!showBookingForm){return/*#__PURE__*/_jsxs(\"div\",{className:\"error-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Error Loading Flights\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"retry-button\",onClick:fetchFlights,children:\"Retry\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"flight-booking-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flight-listings\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Available Flights\"}),flights.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-flights\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"No flights available at the moment.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchFlights,className:\"retry-button\",children:\"Refresh\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flights-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"flights-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Flight #\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Departure\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Arrival\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Return\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Seats\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:flights.map((flight,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:flight.flightNumber||`FL${flight.id}`}),/*#__PURE__*/_jsx(\"td\",{children:flight.departureFrom}),/*#__PURE__*/_jsx(\"td\",{children:flight.arrivalTo}),/*#__PURE__*/_jsx(\"td\",{children:flight.departureDate||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:flight.departureTime||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:flight.returnDate||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:flight.seatsAvailable}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u20B9\",flight.price||'N/A']}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"select-flight-btn\",onClick:()=>handleFlightSelect(flight),disabled:flight.seatsAvailable<=0,children:flight.seatsAvailable<=0?\"Sold Out\":\"Select\"})})]},flight.id||index))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flight-search-help\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Hello! I can help you find flights.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Try asking 'Show me flights to Paris' or 'From New York to London'\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Ask about flights...\",className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"search-button\",children:\"Send\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"promo-banner\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Find exciting offers and best deals\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Book now and save up to 20%\"})]})]})]})]}),showBookingForm&&/*#__PURE__*/_jsx(\"div\",{className:\"booking-form-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"booking-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"booking-header\",children:\"Confirm Your Flight\"}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Error:\"}),\" \",error]}),/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,enableReinitialize:true,onSubmit:onSubmit,validate:validate,validateOnBlur:true,validateOnChange:true,children:formikProps=>/*#__PURE__*/_jsxs(\"form\",{className:\"booking-form\",onSubmit:formikProps.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flight-info-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"flight-info-header\",children:\"Flight Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Flight ID\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",className:\"form-input\",name:\"flightId\",readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Seats Available\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",className:\"form-input\",name:\"seatsAvailable\",readOnly:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Departure From\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",className:\"form-input\",name:\"departureFrom\",readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Arrival To\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",className:\"form-input\",name:\"arrivalTo\",readOnly:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Departure Date\"}),/*#__PURE__*/_jsx(Field,{type:\"date\",className:\"form-input\",name:\"departureDate\",readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Departure Time\"}),/*#__PURE__*/_jsx(Field,{type:\"time\",className:\"form-input\",name:\"departureTime\",readOnly:true})]})]}),initialValues.returnDate&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Return Date\"}),/*#__PURE__*/_jsx(Field,{type:\"date\",className:\"form-input\",name:\"returnDate\",readOnly:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"passenger-info-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"passenger-info-header\",children:\"Passenger Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Number of Passengers *\"}),/*#__PURE__*/_jsx(Field,{type:\"number\",className:\"form-input\",name:\"passenger\",placeholder:\"Enter number of passengers\",min:\"1\",max:\"10\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"passenger\",component:\"div\",className:\"error-text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"passenger-section\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"passenger-subheader\",children:\"Primary Passenger *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Full Name *\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",className:\"form-input\",name:\"passengerName\",placeholder:\"Enter passenger name as it appears on ID\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"passengerName\",component:\"div\",className:\"error-text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Gender *\"}),/*#__PURE__*/_jsxs(Field,{as:\"select\",className:\"form-input\",name:\"passengerAdult\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select gender\"}),/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"passengerAdult\",component:\"div\",className:\"error-text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Date of Birth *\"}),/*#__PURE__*/_jsx(Field,{type:\"date\",className:\"form-input\",name:\"dateOfBirth\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"dateOfBirth\",component:\"div\",className:\"error-text\"})]})]})]}),formikProps.values.passenger>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"passenger-section\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"passenger-subheader\",children:\"Secondary Passenger\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Full Name\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",className:\"form-input\",name:\"passengerName2\",placeholder:\"Enter passenger name as it appears on ID\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"passengerName2\",component:\"div\",className:\"error-text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Gender\"}),/*#__PURE__*/_jsxs(Field,{as:\"select\",className:\"form-input\",name:\"passengerAdult2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select gender\"}),/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"passengerAdult2\",component:\"div\",className:\"error-text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Date of Birth\"}),/*#__PURE__*/_jsx(Field,{type:\"date\",className:\"form-input\",name:\"dateOfBirth2\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"dateOfBirth2\",component:\"div\",className:\"error-text\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Contact Number *\"}),/*#__PURE__*/_jsx(Field,{type:\"tel\",className:\"form-input\",name:\"contactNo\",placeholder:\"Contact Number\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"contactNo\",component:\"div\",className:\"error-text\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions-container\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cancel-button\",onClick:()=>{setShowBookingForm(false);setError(null);},children:\"Back to Flights\"}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-button\",type:\"submit\",disabled:formikProps.isSubmitting||!formikProps.isValid,children:formikProps.isSubmitting?\"Processing...\":\"Continue to Seat Selection\"})]})]})})]})})]});}","map":{"version":3,"names":["useState","useEffect","ErrorMessage","Field","Formik","useParams","useNavigate","BookedFlightAPI","retrieveAFlightById","retrieveAllFlights","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BookedFlight","navigate","id","loading","setLoading","main","form","error","setError","flights","setFlights","showBookingForm","setShowBookingForm","selectedFlight","setSelectedFlight","initialValues","setInitialValues","flightId","departureFrom","arrivalTo","departureDate","departureTime","returnDate","seatsAvailable","passenger","passengerName","passengerName2","passengerAdult","passengerAdult2","dateOfBirth","dateOfBirth2","contactNo","fetchFlights","prev","response","data","_error$response","_error$response$data","console","message","handleFlightSelect","flight","onSubmit","values","_ref","setSubmitting","_bookingResponse$data","ticket","bookingResponse","Error","bookingReference","Math","random","toString","substr","toUpperCase","state","bookingDetails","flightNumber","totalAmount","price","passengerCount","parseInt","_error$response2","_error$response2$data","validate","errors","className","children","onClick","length","map","index","disabled","type","placeholder","enableReinitialize","validateOnBlur","validateOnChange","formikProps","handleSubmit","name","readOnly","min","max","component","as","value","isSubmitting","isValid"],"sources":["C:/SPRING-BOOT/FlightFrontend/booked-frontend/src/components/BookedFlight.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { ErrorMessage, Field, Formik } from \"formik\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { BookedFlightAPI, retrieveAFlightById, retrieveAllFlights } from \"../api/CallingApi\";\r\nimport \"./BookedFlight.css\";\r\n\r\nexport default function BookedFlight() {\r\n    const navigate = useNavigate();\r\n    const { id } = useParams();\r\n    const [loading, setLoading] = useState({ main: true, form: false });\r\n    const [error, setError] = useState(null);\r\n    const [flights, setFlights] = useState([]);\r\n    const [showBookingForm, setShowBookingForm] = useState(false);\r\n    const [selectedFlight, setSelectedFlight] = useState(null);\r\n\r\n    const [initialValues, setInitialValues] = useState({\r\n        flightId: \"\",\r\n        departureFrom: \"\",\r\n        arrivalTo: \"\",\r\n        departureDate: \"\",\r\n        departureTime: \"\",\r\n        returnDate: \"\",\r\n        seatsAvailable: \"\",\r\n        passenger: \"1\",\r\n        passengerName: \"\",\r\n        passengerName2: \"\",\r\n        passengerAdult: \"\",\r\n        passengerAdult2: \"\",\r\n        dateOfBirth: \"\",\r\n        dateOfBirth2: \"\",\r\n        contactNo: \"\"\r\n    });\r\n\r\n    // Fetch all flights on component mount\r\n    useEffect(() => {\r\n        fetchFlights();\r\n    }, []);\r\n\r\n    const fetchFlights = async () => {\r\n        try {\r\n            setLoading(prev => ({ ...prev, main: true }));\r\n            setError(null);\r\n            \r\n            const response = await retrieveAllFlights();\r\n            setFlights(response.data || []);\r\n            \r\n        } catch (error) {\r\n            console.error(\"Failed to fetch flights:\", error);\r\n            setError(error.response?.data?.message || \r\n                   error.message || \r\n                   \"Failed to load flights. Please try again.\");\r\n        } finally {\r\n            setLoading(prev => ({ ...prev, main: false }));\r\n        }\r\n    };\r\n\r\n    const handleFlightSelect = (flight) => {\r\n        setSelectedFlight(flight);\r\n        setInitialValues({\r\n            ...initialValues,\r\n            flightId: flight.id,\r\n            departureFrom: flight.departureFrom,\r\n            arrivalTo: flight.arrivalTo,\r\n            departureDate: flight.departureDate,\r\n            departureTime: flight.departureTime,\r\n            returnDate: flight.returnDate,\r\n            seatsAvailable: flight.seatsAvailable\r\n        });\r\n        setShowBookingForm(true);\r\n    };\r\n\r\n    async function onSubmit(values, { setSubmitting }) {\r\n        try {\r\n            setError(null); // Clear previous errors\r\n            \r\n            const ticket = {\r\n                flightId: values.flightId,\r\n                passenger: values.passenger,\r\n                passengerName: values.passengerName,\r\n                passengerName2: values.passengerName2,\r\n                passengerAdult: values.passengerAdult,\r\n                passengerAdult2: values.passengerAdult2,\r\n                dateOfBirth: values.dateOfBirth,\r\n                dateOfBirth2: values.dateOfBirth2,\r\n                contactNo: values.contactNo\r\n            };\r\n            \r\n            // First create the booking\r\n            const bookingResponse = await BookedFlightAPI(ticket);\r\n            \r\n            if (!bookingResponse?.data?.id) {\r\n                throw new Error(\"Invalid booking response - missing booking ID\");\r\n            }\r\n            \r\n            // Generate a booking reference if not provided by backend\r\n            const bookingReference = bookingResponse.data.bookingReference || \r\n                                   `REF-${Math.random().toString(36).substr(2, 9).toUpperCase()}`;\r\n            \r\n            // Navigate to seat selection page with all required data\r\n            navigate(`/flight/${values.flightId}/seats`, {\r\n                state: {\r\n                    bookingDetails: {\r\n                        id: bookingResponse.data.id,\r\n                        flightId: values.flightId,\r\n                        flightNumber: selectedFlight?.flightNumber || `FL${values.flightId}`,\r\n                        departureFrom: values.departureFrom,\r\n                        arrivalTo: values.arrivalTo,\r\n                        departureDate: values.departureDate,\r\n                        departureTime: values.departureTime,\r\n                        totalAmount: selectedFlight?.price || 0,\r\n                        bookingReference: bookingReference,\r\n                        // Include any other necessary fields from the booking response\r\n                        ...bookingResponse.data\r\n                    },\r\n                    passengerCount: parseInt(values.passenger) || 1\r\n                }\r\n            });\r\n            \r\n        } catch (error) {\r\n            console.error(\"Booking failed:\", error);\r\n            setError(error.response?.data?.message || \r\n                   error.message || \r\n                   \"Booking failed. Please check your information and try again.\");\r\n        } finally {\r\n            setSubmitting(false);\r\n        }\r\n    }\r\n\r\n    function validate(values) {\r\n        let errors = {};\r\n        if (!values.passengerName) {\r\n            errors.passengerName = \"Passenger name is required\";\r\n        }\r\n        if (!values.flightId) {\r\n            errors.flightId = \"Please select a flight\";\r\n        }\r\n        if (!values.contactNo) {\r\n            errors.contactNo = \"Contact number is required\";\r\n        }\r\n        if (!values.passenger || values.passenger < 1) {\r\n            errors.passenger = \"At least one passenger is required\";\r\n        }\r\n        if (!values.dateOfBirth) {\r\n            errors.dateOfBirth = \"Date of birth is required\";\r\n        }\r\n        if (!values.passengerAdult) {\r\n            errors.passengerAdult = \"Gender is required\";\r\n        }\r\n        return errors;\r\n    }\r\n\r\n    if (loading.main) {\r\n        return (\r\n            <div className=\"loading-container\">\r\n                <div className=\"loading-spinner\"></div>\r\n                <p>Loading available flights...</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error && !showBookingForm) {\r\n        return (\r\n            <div className=\"error-container\">\r\n                <h3>Error Loading Flights</h3>\r\n                <p>{error}</p>\r\n                <button \r\n                    className=\"retry-button\"\r\n                    onClick={fetchFlights}\r\n                >\r\n                    Retry\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"flight-booking-page\">\r\n            <div className=\"flight-listings\">\r\n                <h1>Available Flights</h1>\r\n                \r\n                {flights.length === 0 ? (\r\n                    <div className=\"no-flights\">\r\n                        <p>No flights available at the moment.</p>\r\n                        <button onClick={fetchFlights} className=\"retry-button\">\r\n                            Refresh\r\n                        </button>\r\n                    </div>\r\n                ) : (\r\n                    <>\r\n                        <div className=\"flights-table-container\">\r\n                            <table className=\"flights-table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Flight #</th>\r\n                                        <th>Departure</th>\r\n                                        <th>Arrival</th>\r\n                                        <th>Date</th>\r\n                                        <th>Time</th>\r\n                                        <th>Return</th>\r\n                                        <th>Seats</th>\r\n                                        <th>Price</th>\r\n                                        <th>Action</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {flights.map((flight, index) => (\r\n                                        <tr key={flight.id || index}>\r\n                                            <td>{flight.flightNumber || `FL${flight.id}`}</td>\r\n                                            <td>{flight.departureFrom}</td>\r\n                                            <td>{flight.arrivalTo}</td>\r\n                                            <td>{flight.departureDate || 'N/A'}</td>\r\n                                            <td>{flight.departureTime || 'N/A'}</td>\r\n                                            <td>{flight.returnDate || 'N/A'}</td>\r\n                                            <td>{flight.seatsAvailable}</td>\r\n                                            <td>â‚¹{flight.price || 'N/A'}</td>\r\n                                            <td>\r\n                                                <button \r\n                                                    className=\"select-flight-btn\"\r\n                                                    onClick={() => handleFlightSelect(flight)}\r\n                                                    disabled={flight.seatsAvailable <= 0}\r\n                                                >\r\n                                                    {flight.seatsAvailable <= 0 ? \"Sold Out\" : \"Select\"}\r\n                                                </button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        \r\n                        <div className=\"flight-search-help\">\r\n                            <p>Hello! I can help you find flights.</p>\r\n                            <p>Try asking 'Show me flights to Paris' or 'From New York to London'</p>\r\n                            \r\n                            <div className=\"search-box\">\r\n                                <input \r\n                                    type=\"text\" \r\n                                    placeholder=\"Ask about flights...\" \r\n                                    className=\"search-input\"\r\n                                />\r\n                                <button className=\"search-button\">Send</button>\r\n                            </div>\r\n                            \r\n                            <div className=\"promo-banner\">\r\n                                <p>Find exciting offers and best deals</p>\r\n                                <p>Book now and save up to 20%</p>\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                )}\r\n            </div>\r\n            \r\n            {showBookingForm && (\r\n                <div className=\"booking-form-container\">\r\n                    <div className=\"booking-container\">\r\n                        <h2 className=\"booking-header\">Confirm Your Flight</h2>\r\n                        \r\n                        {error && (\r\n                            <div className=\"error-message\">\r\n                                <strong>Error:</strong> {error}\r\n                            </div>\r\n                        )}\r\n                        \r\n                        <Formik\r\n                            initialValues={initialValues}\r\n                            enableReinitialize={true}\r\n                            onSubmit={onSubmit}\r\n                            validate={validate}\r\n                            validateOnBlur={true}\r\n                            validateOnChange={true}\r\n                         >\r\n                            {(formikProps) => (\r\n                                <form className=\"booking-form\" onSubmit={formikProps.handleSubmit}>\r\n                                    <div className=\"flight-info-card\">\r\n                                        <h3 className=\"flight-info-header\">Flight Information</h3>\r\n                                        \r\n                                        <div className=\"form-row\">\r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"form-label\">Flight ID</label>\r\n                                                <Field \r\n                                                    type=\"text\" \r\n                                                    className=\"form-input\"\r\n                                                    name=\"flightId\" \r\n                                                    readOnly\r\n                                                />\r\n                                            </div>\r\n                                            \r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"form-label\">Seats Available</label>\r\n                                                <Field \r\n                                                    type=\"text\" \r\n                                                    className=\"form-input\"\r\n                                                    name=\"seatsAvailable\" \r\n                                                    readOnly\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                        \r\n                                        <div className=\"form-row\">\r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"form-label\">Departure From</label>\r\n                                                <Field \r\n                                                    type=\"text\" \r\n                                                    className=\"form-input\"\r\n                                                    name=\"departureFrom\" \r\n                                                    readOnly\r\n                                                />\r\n                                            </div>\r\n                                            \r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"form-label\">Arrival To</label>\r\n                                                <Field \r\n                                                    type=\"text\" \r\n                                                    className=\"form-input\"\r\n                                                    name=\"arrivalTo\" \r\n                                                    readOnly\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                        \r\n                                        <div className=\"form-row\">\r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"form-label\">Departure Date</label>\r\n                                                <Field \r\n                                                    type=\"date\" \r\n                                                    className=\"form-input\"\r\n                                                    name=\"departureDate\" \r\n                                                    readOnly\r\n                                                />\r\n                                            </div>\r\n                                            \r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"form-label\">Departure Time</label>\r\n                                                <Field \r\n                                                    type=\"time\" \r\n                                                    className=\"form-input\"\r\n                                                    name=\"departureTime\" \r\n                                                    readOnly\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                        \r\n                                        {initialValues.returnDate && (\r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"form-label\">Return Date</label>\r\n                                                <Field \r\n                                                    type=\"date\" \r\n                                                    className=\"form-input\"\r\n                                                    name=\"returnDate\" \r\n                                                    readOnly\r\n                                                />\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    <div className=\"passenger-info-card\">\r\n                                        <h3 className=\"passenger-info-header\">Passenger Information</h3>\r\n                                        \r\n                                        <div className=\"form-group\">\r\n                                            <label className=\"form-label\">Number of Passengers *</label>\r\n                                            <Field \r\n                                                type=\"number\" \r\n                                                className=\"form-input\"\r\n                                                name=\"passenger\" \r\n                                                placeholder=\"Enter number of passengers\"\r\n                                                min=\"1\"\r\n                                                max=\"10\"\r\n                                            />\r\n                                            <ErrorMessage name=\"passenger\" component=\"div\" className=\"error-text\" />\r\n                                        </div>\r\n                                        \r\n                                        <div className=\"passenger-section\">\r\n                                            <h4 className=\"passenger-subheader\">Primary Passenger *</h4>\r\n                                            \r\n                                            <div className=\"form-group\">\r\n                                                <label className=\"form-label\">Full Name *</label>\r\n                                                <Field \r\n                                                    type=\"text\" \r\n                                                    className=\"form-input\"\r\n                                                    name=\"passengerName\" \r\n                                                    placeholder=\"Enter passenger name as it appears on ID\"\r\n                                                />\r\n                                                <ErrorMessage name=\"passengerName\" component=\"div\" className=\"error-text\" />\r\n                                            </div>\r\n                                            \r\n                                            <div className=\"form-row\">\r\n                                                <div className=\"form-group\">\r\n                                                    <label className=\"form-label\">Gender *</label>\r\n                                                    <Field \r\n                                                        as=\"select\"\r\n                                                        className=\"form-input\"\r\n                                                        name=\"passengerAdult\"\r\n                                                    >\r\n                                                        <option value=\"\">Select gender</option>\r\n                                                        <option value=\"male\">Male</option>\r\n                                                        <option value=\"female\">Female</option>\r\n                                                        <option value=\"other\">Other</option>\r\n                                                    </Field>\r\n                                                    <ErrorMessage name=\"passengerAdult\" component=\"div\" className=\"error-text\" />\r\n                                                </div>\r\n                                                \r\n                                                <div className=\"form-group\">\r\n                                                    <label className=\"form-label\">Date of Birth *</label>\r\n                                                    <Field \r\n                                                        type=\"date\" \r\n                                                        className=\"form-input\"\r\n                                                        name=\"dateOfBirth\" \r\n                                                    />\r\n                                                    <ErrorMessage name=\"dateOfBirth\" component=\"div\" className=\"error-text\" />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        \r\n                                        {formikProps.values.passenger > 1 && (\r\n                                            <div className=\"passenger-section\">\r\n                                                <h4 className=\"passenger-subheader\">Secondary Passenger</h4>\r\n                                                \r\n                                                <div className=\"form-group\">\r\n                                                    <label className=\"form-label\">Full Name</label>\r\n                                                    <Field \r\n                                                        type=\"text\" \r\n                                                        className=\"form-input\"\r\n                                                        name=\"passengerName2\" \r\n                                                        placeholder=\"Enter passenger name as it appears on ID\"\r\n                                                    />\r\n                                                    <ErrorMessage name=\"passengerName2\" component=\"div\" className=\"error-text\" />\r\n                                                </div>\r\n                                                \r\n                                                <div className=\"form-row\">\r\n                                                    <div className=\"form-group\">\r\n                                                        <label className=\"form-label\">Gender</label>\r\n                                                        <Field \r\n                                                            as=\"select\"\r\n                                                            className=\"form-input\"\r\n                                                            name=\"passengerAdult2\"\r\n                                                        >\r\n                                                            <option value=\"\">Select gender</option>\r\n                                                            <option value=\"male\">Male</option>\r\n                                                            <option value=\"female\">Female</option>\r\n                                                            <option value=\"other\">Other</option>\r\n                                                        </Field>\r\n                                                        <ErrorMessage name=\"passengerAdult2\" component=\"div\" className=\"error-text\" />\r\n                                                    </div>\r\n                                                    \r\n                                                    <div className=\"form-group\">\r\n                                                        <label className=\"form-label\">Date of Birth</label>\r\n                                                        <Field \r\n                                                            type=\"date\" \r\n                                                            className=\"form-input\"\r\n                                                            name=\"dateOfBirth2\" \r\n                                                        />\r\n                                                        <ErrorMessage name=\"dateOfBirth2\" component=\"div\" className=\"error-text\" />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n                                        \r\n                                        <div className=\"form-group\">\r\n                                            <label className=\"form-label\">Contact Number *</label>\r\n                                            <Field \r\n                                                type=\"tel\" \r\n                                                className=\"form-input\"\r\n                                                name=\"contactNo\" \r\n                                                placeholder=\"Contact Number\"\r\n                                            />\r\n                                            <ErrorMessage name=\"contactNo\" component=\"div\" className=\"error-text\" />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"actions-container\">\r\n                                        <button \r\n                                            type=\"button\" \r\n                                            className=\"cancel-button\"\r\n                                            onClick={() => {\r\n                                                setShowBookingForm(false);\r\n                                                setError(null);\r\n                                            }}\r\n                                        >\r\n                                            Back to Flights\r\n                                        </button>\r\n                                        <button \r\n                                            className=\"submit-button\" \r\n                                            type=\"submit\"\r\n                                            disabled={formikProps.isSubmitting || !formikProps.isValid}\r\n                                        >\r\n                                            {formikProps.isSubmitting ? \"Processing...\" : \"Continue to Seat Selection\"}\r\n                                        </button>\r\n                                    </div>\r\n                                </form>\r\n                            )}\r\n                        </Formik>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}